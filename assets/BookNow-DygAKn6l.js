import{i as d,j as Y,l as T,m as I,c as i,o as r,a as e,t as o,g,h as H,k as u,v as p,p as C,F as y,f as D,e as N,n as M,q as z}from"./index-Bo0INFuj.js";import{e as E}from"./index-BvPdHJoH.js";const G={class:"bg-light-pink section-padding border"},J={class:"container text-center"},Q={class:"display-4 fw-bold mb-4",style:{"font-family":"'Quicksand', sans-serif"}},W={class:"lead"},X={class:"section-padding"},Z={class:"container"},x={class:"row justify-content-center"},ee={class:"col-lg-10"},te={class:"card shadow-lg border-0"},se={class:"card-body p-5"},oe={class:"row"},le={class:"col-lg-6"},ae={class:"text-primary-pink mb-4"},ne={class:"mb-3"},ie={for:"clientName",class:"form-label"},re={class:"mb-3"},ce={class:"mb-3"},de={for:"clientPhone",class:"form-label"},ue={class:"mb-4"},ve={for:"service",class:"form-label"},me={value:""},be={value:"Semi Cu APEX - 85 RON"},he={value:"Constructie gel Scurt - 100 RON"},pe={value:"Constructie gel Lung - 110 RON"},_e={value:"Intretinere - 100/110 RON"},ke={value:"Arhitectură Slim - 110 RON"},fe={value:"Demontare Si Curatare - 50 RON"},ge={value:"Pedichiura Estetica - 80 RON"},ye={class:"mb-4"},De={for:"extras",class:"form-label"},Ne={value:""},Se={value:"FRENCH - +15 RON"},$e={value:"Pictura/Model Complex - +15 RON"},Re={value:"Design - +10 RON"},we={value:"Incrustări cu pietre - 1.80 RON/ piatra"},Oe={class:"col-lg-6"},Te={class:"text-primary-pink mb-4"},Ce={class:"calendar-container mb-4"},Me={class:"calendar-header"},Ee={class:"calendar-month-year"},Fe={class:"calendar-grid"},Ve=["onClick"],qe={key:0,class:"time-slots-container"},Be={class:"form-label fw-semibold"},Ue={class:"time-slots-grid"},Le=["onClick"],Pe={class:"row mt-4"},je={class:"col-12"},Ae={for:"notes",class:"form-label"},Ke=["placeholder"],Ye=["value"],Ie=["value"],He=["value"],ze={class:"text-center mt-5"},Ge=["disabled"],Je={key:0,class:"alert alert-success mt-4"},Qe={key:1,class:"alert alert-danger mt-4"},xe={__name:"BookNow",setup(We){const S=d(null),v=d(!1),m=d(!1),b=d(!1),$=d(""),R=()=>new Date().toLocaleString("en-GB",{timeZone:"Europe/Bucharest",dateStyle:"short",timeStyle:"short"}),s=Y({name:"",email:"",phone:"",service:"",extraService:"",selectedDate:"",selectedTime:"",notes:"",time:R()}),n=d(new Date),F=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],V=["9:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00"],q=T(()=>n.value.toLocaleDateString("en-US",{month:"long",year:"numeric"})),w=d([]),_=()=>{const t=n.value.getFullYear(),l=n.value.getMonth(),a=new Date(t,l,1),k=new Date(t,l+1,0),O=new Date;O.setHours(0,0,0,0);const f=[];for(let c=0;c<a.getDay();c++)f.push({day:"",disabled:!0,date:null,dateString:""});for(let c=1;c<=k.getDate();c++){const h=new Date(t,l,c),A=h.toISOString().split("T")[0],K=h<O||h.getDay()===0;f.push({day:c,date:h,dateString:A,disabled:K})}w.value=f};I(()=>{_(),E.init("deLnRNEKw6l3KRqAj")});const B=()=>{n.value=new Date(n.value.getFullYear(),n.value.getMonth()-1,1),_()},U=()=>{n.value=new Date(n.value.getFullYear(),n.value.getMonth()+1,1),_()},L=t=>{!t.disabled&&t.dateString&&(s.selectedDate=t.dateString,s.selectedTime="")},P=T(()=>s.name&&s.email&&s.phone&&s.service&&s.extraService&&s.selectedDate&&s.selectedTime),j=async()=>{v.value=!0,m.value=!1,b.value=!1,s.time=R(),await z();try{await E.sendForm("service_9rh963e","template_50eudx8",S.value,"deLnRNEKw6l3KRqAj"),Object.assign(s,{name:"",email:"",phone:"",service:"",extraService:"",selectedDate:"",selectedTime:"",notes:"",time:""}),m.value=!0,setTimeout(()=>m.value=!1,8e3)}catch(t){console.error("EmailJS error:",t),$.value="A apărut o problemă la trimiterea programării. Încearcă din nou.",b.value=!0,setTimeout(()=>b.value=!1,8e3)}finally{v.value=!1}};return(t,l)=>(r(),i("div",null,[e("section",G,[e("div",J,[e("h1",Q,o(t.$t("book.title")),1),e("p",W,o(t.$t("book.subtitle")),1)])]),e("section",X,[e("div",Z,[e("div",x,[e("div",ee,[e("div",te,[e("div",se,[e("form",{onSubmit:H(j,["prevent"]),ref_key:"bookingForm",ref:S},[e("div",oe,[e("div",le,[e("h4",ae,o(t.$t("book.table.title_left")),1),e("div",ne,[e("label",ie,o(t.$t("book.table.name"))+" *",1),u(e("input",{type:"text",class:"form-control",id:"clientName",name:"name","onUpdate:modelValue":l[0]||(l[0]=a=>s.name=a),required:""},null,512),[[p,s.name]])]),e("div",re,[l[6]||(l[6]=e("label",{for:"clientEmail",class:"form-label"},"Email *",-1)),u(e("input",{type:"email",class:"form-control",id:"clientEmail",name:"email","onUpdate:modelValue":l[1]||(l[1]=a=>s.email=a),required:""},null,512),[[p,s.email]])]),e("div",ce,[e("label",de,o(t.$t("book.table.phone"))+" *",1),u(e("input",{type:"tel",class:"form-control",id:"clientPhone",name:"phone","onUpdate:modelValue":l[2]||(l[2]=a=>s.phone=a),required:""},null,512),[[p,s.phone]])]),e("div",ue,[e("label",ve,o(t.$t("book.table.service.title"))+" *",1),u(e("select",{class:"form-select",name:"subject","onUpdate:modelValue":l[3]||(l[3]=a=>s.service=a),required:""},[e("option",me,o(t.$t("book.table.service.choose_service")),1),e("option",be,o(t.$t("book.table.service.serv1"))+" - 85 RON",1),e("option",he,o(t.$t("book.table.service.serv2"))+" - 100 RON",1),e("option",pe,o(t.$t("book.table.service.serv4"))+" - 110 RON",1),e("option",_e,o(t.$t("book.table.service.serv5"))+" - 100/110 RON",1),e("option",ke,o(t.$t("book.table.service.serv6"))+" - 110 RON",1),e("option",fe,o(t.$t("book.table.service.serv7"))+" - 50 RON",1),e("option",ge,o(t.$t("book.table.service.serv8"))+" - 80 RON",1)],512),[[C,s.service]])]),e("div",ye,[e("label",De,o(t.$t("book.table.service.title_additional"))+" (opțional) ",1),u(e("select",{class:"form-select",name:"extraService","onUpdate:modelValue":l[4]||(l[4]=a=>s.extraService=a)},[e("option",Ne,o(t.$t("book.table.service.choose_service_additional")),1),e("option",Se,o(t.$t("book.table.service.serv9"))+" - +15 RON",1),e("option",$e,o(t.$t("book.table.service.serv10"))+" - +15 RON",1),e("option",Re,o(t.$t("book.table.service.serv11"))+" - +10 RON",1),e("option",we,o(t.$t("book.table.service.serv12"))+" - 1.80 RON/ piatra",1)],512),[[C,s.extraService]])])]),e("div",Oe,[e("h4",Te,o(t.$t("book.table.title_right")),1),e("div",Ce,[e("div",Me,[e("button",{type:"button",class:"calendar-nav-btn",onClick:B},l[7]||(l[7]=[e("i",{class:"fas fa-chevron-left"},null,-1)])),e("h5",Ee,o(q.value),1),e("button",{type:"button",class:"calendar-nav-btn",onClick:U},l[8]||(l[8]=[e("i",{class:"fas fa-chevron-right"},null,-1)]))]),e("div",Fe,[(r(),i(y,null,D(F,a=>e("div",{class:"calendar-weekday",key:a},o(a),1)),64)),(r(!0),i(y,null,D(w.value,a=>(r(),i("div",{key:a.date,class:M(["calendar-day",{selected:s.selectedDate===a.dateString,disabled:a.disabled}]),onClick:k=>L(a)},[e("span",null,o(a.day),1)],10,Ve))),128))])]),s.selectedDate?(r(),i("div",qe,[e("label",Be,o(t.$t("book.table.time"))+" *",1),e("div",Ue,[(r(),i(y,null,D(V,a=>e("div",{key:a,class:M(["time-slot",{selected:s.selectedTime===a}]),onClick:k=>s.selectedTime=a},[e("span",null,o(a),1)],10,Le)),64))])])):g("",!0)])]),e("div",Pe,[e("div",je,[e("label",Ae,o(t.$t("book.table.notes")),1),u(e("textarea",{class:"form-control",id:"notes",name:"message",rows:"4","onUpdate:modelValue":l[5]||(l[5]=a=>s.notes=a),placeholder:t.$t("book.booking.notesPlaceholder")},null,8,Ke),[[p,s.notes]])])]),e("input",{type:"hidden",name:"selectedDate",value:s.selectedDate},null,8,Ye),e("input",{type:"hidden",name:"selectedTime",value:s.selectedTime},null,8,Ie),e("input",{type:"hidden",name:"time",value:s.time},null,8,He),e("div",ze,[e("button",{type:"submit",class:"btn btn-primary-pink btn-lg",disabled:!P.value||v.value},[l[9]||(l[9]=e("i",{class:"fas fa-calendar-check me-2"},null,-1)),N(" "+o(v.value?t.$t("book.booking.booking"):t.$t("book.table.button")),1)],8,Ge)])],544),m.value?(r(),i("div",Je,[l[10]||(l[10]=e("i",{class:"fas fa-check-circle me-2"},null,-1)),N(" "+o(t.$t("book.booking.successMessage")),1)])):g("",!0),b.value?(r(),i("div",Qe,[l[11]||(l[11]=e("i",{class:"fas fa-exclamation-triangle me-2"},null,-1)),N(" "+o($.value),1)])):g("",!0)])])])])])])]))}};export{xe as default};
